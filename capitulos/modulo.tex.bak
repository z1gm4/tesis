\chapter{Modulo de Transición LoRaWAN/IPv6}
Para el desarrollo del módulo de transición de LoRaWAN a IPV6 se modificó el script desarrollado por SemTech para comunicar el Gateway con el nodo, generando una especie de Middleware entre la red LoRa y las redes externas a esta.\\
 Gracias a modificaciones realizadas~\cite{tomas} al script de SemTech, ahora es posible la obtención y visualización del Payload de forma íntegra y su retransmisión hacia redes externas a la red LoRa.\\
En cuanto a llevar a cabo la retransmisión hacia redes externas de los paquetes LoRaWAN, hace falta generar una conexión puente que comparta salida a Internet al Gateway Lora, esto puede se puede lograr a través del uso de  iptables u otro gestor de reglas (firewall local). Y luego mediante el uso de sockets en C realizar la conexión hacia una base de datos o aplicación web, para luego procesar dichos datos y finalmente ser mostrados en algún front-end o servicio web.
\section{Funcionamiento}
El funcionamiento de este módulo es el siguiente, una vez que el Gateway ya posee la capacidad de escuchar, se debe lanzar un ping en IPv6 desde la Raspberry que posee de back-end. Una vez realizado esto comenzará una transmisión de paquetes donde se capturará el payload del mensaje de LoRaWAN y se mostrará por pantalla,  ``Manda'' y ``LLega'' dependiendo si el mensaje llega de forma íntegra o no al Gateway (la cantidad de bytes especificada en la configuración, debe ser la misma cantidad de bytes que los contenidos en el struct array), en dicha parte del código se implementó un socket en C para comunicarse con una base de datos MySQL creada para la interacción con este módulo, dado que si es posible comunicarme con la base de datos y realizar consultas a la base de datos (insert-delete-update) será posible la comunicación con casi cualquier servicio web que admita clientes que se conecten a sus redes(Véase Fig~\ref{cod:1} y Fig~\ref{cod:2}).
\subsection{Contribuciones}
Gracias a la contribución de Tomás Lagos~\cite{tomas}, con su modificación del script para que imprima por pantalla los estados de los mensajes tanto salientes como entrantes (Sólo los que llegan íntegros), es posible extraer el payload de los mensajes enviados por los nodos hacia el Gateway para luego poder enviarlo hacia afuera para su almacenamiento en una base de datos, o para análisis de los datos en alguna aplicación sea web o Móvil. Esto da la capacidad a una red Lora de ejecutar comandos MAC, como también el extraer los datos hacia una aplicación que analice y cense los datos obtenidos, entre otros posibles usos.
\subsection{Consideraciones}
Dados los problemas de conectividad presentes en los dispositivos físicos que se utilizaron durante la ejecución de las pruebas, tanto en el desarrollo del módulo como en las pruebas  de verificación, estas pudieron ser llevadas a cabo bajo la condición de poseer ambos dispositivos (Nodo y Gateway) a distancias muy cortas para maximizar la conectividad, dado que el objetivo de este módulo es probar la posibilidad de extraer datos de una red LoRa hacia Internet, y no el probar la capacidad de transmisión de los dispositivos físicos. Esto es mencionado dado que muchas veces los paquetes no llegan desde el nodo al Gateway, y no porque este no haya sido enviado, si no porque el Gateway lo detecta como mensaje corrupto, por lo que este módulo en esos casos no es capaz de enviar nada.